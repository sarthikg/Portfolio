---
import { formatDateWithDay } from "@util/date-string";
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";
import "./horizontal-card.css";

interface Props {
  title: string;
  description: string;
  image: {
    src?: unknown; // TODO: Remove optional once Astro bug is fixed
    alt?: string; // TODO: Remove optional once Astro bug is fixed
  };
  tags: string[];
  date: Date;
  url: string;
}

const { title, description, image, tags, date, url } = Astro.props;
---

<a class="horizontal-card" href={url}>
  <Image
    class="horizontal-card__image"
    src={image.src as ImageMetadata}
    alt={image.alt}
  />
  <h2 class="horizontal-card__title">{title}</h2>
  <p class="horizontal-card__description">{description}</p>
  <ul class="horizontal-card__tags">
    {tags.map((tag) => <li class="horizontal-card__tag">{tag}</li>)}
  </ul>
  <p class="horizontal-card__duration">
    <span class="horizontal-card__duration__read-time">5 min read</span>
    <span class="horizontal-card__duration__published"
      >{formatDateWithDay(date)}</span
    >
  </p>
</a>
